<% content_for :title, "Category | Traffle" %>
<div class="container" style="padding-top:9em;padding-bottom:2em;">
  <div class="row">
    <div class="col-md-12">
      <center><h2 class="admin_heading">Item Categories</h2></center>
    </div>
    <br>
    <div class="col-md-12 admin_border">
      <%= form_with(model: @category, url: admin_categories_path, local: true, html: { multipart: true, class:"login", style:"min-width:100%;max-width:100%;padding-bottom:0em;" }) do |f| %>
        <p class="title" style="text-align:center;">Add New Category</p>
        <% if @category.errors.any? %>
          <div class="form-group alert alert-error alert-block" id="error_explanation">
            <button type="button" class="close" data-dismiss="alert">x</button>
            <h4 class="heading_error">Cannot save this Item</h4>
            <% @category.errors.full_messages.each do |message| %>
              <h6 class="heading_error"><%= message%></h6>
            <% end %>
          </div>
        <% end %>
        <div class="row">
          <div class="col-md-4 col-xs-12">
            <%= f.label :title, "Title", class:"label", style:"font-size:1em;" %><br />
          </div>
          <div class="col-md-4 col-xs-12">
            <%= f.text_field :title, autofocus: true, placeholder: 'Item Title', class: 'form-control', style:"font-size: 1em;", required: true %>
          </div>
          <div class="col-md-4 col-xs-12">
            <center><%= f.submit "Save", style:"margin-top:0em;min-height:30px;max-width:50%;float:center;"%></center>
          </div>
        </div>
      <%end%>
    </div>
    <br>
    <div class="col-md-12 admin_border">
      <%@categories.each do |c|%>
        <div class="row" style="padding:1em;">
          <div class="col-md-4 col-xs-12"><h4 class="admin_heading"><%= c.title%></h4></div>
          <div class="col-md-4 col-xs-12"><%= link_to "Edit", edit_admin_category_path(c), class:"btn btn-sm btn-info"%></div>
          <div class="col-md-4 col-xs-12"><%= link_to "Delete", admin_category_path(c), method: :delete, data: {confirm: "Are you sure you want to delete this category?\nThis can be a loss."}, class:"btn btn-sm btn-danger"%></div>
        </div>
      <%end%>
    </div>
  </div>
</div>
